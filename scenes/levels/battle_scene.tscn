[gd_scene load_steps=14 format=3 uid="uid://bcc4ea6baq4mq"]

[ext_resource type="Script" uid="uid://blwyr6s3hoy0c" path="res://scenes/levels/battle_scene.gd" id="1_6a6ir"]
[ext_resource type="PackedScene" uid="uid://mqf25vmd4yyl" path="res://entities/nexus/nexus.tscn" id="2_6b61y"]
[ext_resource type="Texture2D" uid="uid://bm63mpsvjyyog" path="res://entities/nexus/assets/Background/Background Ground ( darker ).png" id="2_emqap"]
[ext_resource type="Script" uid="uid://c1uhvd44yudpd" path="res://entities/entity_parameters.gd" id="2_icesr"]
[ext_resource type="PackedScene" uid="uid://yey23xnr0h7w" path="res://components/random_audio_player/random_audio_player_component.tscn" id="2_smbrp"]
[ext_resource type="Resource" uid="uid://cugg8eevv1j45" path="res://entities/player_robots/resources/defender.tres" id="3_r4o5o"]
[ext_resource type="AudioStream" uid="uid://bcgca3x3m4mao" path="res://assets/SFX/system/end_turn.wav" id="3_xuffl"]
[ext_resource type="Resource" uid="uid://d27co4a5g0b2y" path="res://entities/player_robots/resources/infantry.tres" id="4_e8hjr"]
[ext_resource type="Resource" uid="uid://cn5ilxcucckhu" path="res://entities/player_robots/resources/spearman.tres" id="5_7dft6"]
[ext_resource type="Texture2D" uid="uid://cwiwig2kmyyr1" path="res://entities/nexus/assets/Background/ForeGround Left.png" id="6_2bu30"]
[ext_resource type="Resource" uid="uid://dquq8a7iqipgf" path="res://entities/enemies/resources/basic_enemy.tres" id="6_idfmm"]
[ext_resource type="Texture2D" uid="uid://cvd4sesmxcjhw" path="res://entities/nexus/assets/Background/ForeGround Right.png" id="6_k8b4e"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_skhqt"]
vertices = PackedVector2Array(668.953, 173.977, 668.039, 400.977, -13.9531, 400.008, -13.0391, 173.008)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-23, 163, 679, 164, 678, 411, -24, 410)])

[node name="BattleScene" type="Node2D" groups=["battle_scene"]]
script = ExtResource("1_6a6ir")
robot_resources = Array[ExtResource("2_icesr")]([ExtResource("3_r4o5o"), ExtResource("4_e8hjr"), ExtResource("5_7dft6")])
enemy_resources = Array[ExtResource("2_icesr")]([ExtResource("6_idfmm")])

[node name="ResetNavigationTimer" type="Timer" parent="."]
wait_time = 1.8
one_shot = true

[node name="SFX" type="Node" parent="."]

[node name="RoundEndSFXPlayer" parent="SFX" instance=ExtResource("2_smbrp")]
unique_name_in_owner = true
volume_db = 10.0
streams = Array[AudioStream]([ExtResource("3_xuffl")])

[node name="RoundStartSFXPlayer4" parent="SFX" instance=ExtResource("2_smbrp")]
unique_name_in_owner = true

[node name="Background" type="Node2D" parent="."]

[node name="Sprite2D" type="Sprite2D" parent="Background"]
position = Vector2(-124, -13)
scale = Vector2(1.27183, 1.07485)
texture = ExtResource("2_emqap")
centered = false

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
position = Vector2(0, -147)
navigation_polygon = SubResource("NavigationPolygon_skhqt")

[node name="Wall" type="Node2D" parent="."]

[node name="StaticBody2D" type="StaticBody2D" parent="Wall"]
collision_layer = 64
collision_mask = 0

[node name="CollisionShape2D" type="CollisionPolygon2D" parent="Wall/StaticBody2D"]
position = Vector2(-6, 11)
build_mode = 1
polygon = PackedVector2Array(-9, 15, 677, 17, 680, 242, -9, 243)

[node name="PlayerNexus" parent="." groups=["player_nexus"] instance=ExtResource("2_6b61y")]
position = Vector2(82, 134)
collision_mask = 2

[node name="EnemyNexus" parent="." groups=["enemy_nexus"] instance=ExtResource("2_6b61y")]
position = Vector2(555, 134)
ally = false

[node name="VFXLayer" type="Node2D" parent="." groups=["vfx_layer"]]

[node name="DeathLayer" type="Node2D" parent="." groups=["death_layer"]]

[node name="PlayerLayer" type="Node2D" parent="." groups=["player_layer"]]
position = Vector2(0, -147)

[node name="EnemyLayer" type="Node2D" parent="."]
position = Vector2(0, -147)

[node name="SpawnPositions" type="Node2D" parent="."]
position = Vector2(0, -147)

[node name="PlayerMarker" type="Marker2D" parent="SpawnPositions"]
unique_name_in_owner = true
position = Vector2(173, 293)

[node name="EnemyMarker" type="Marker2D" parent="SpawnPositions"]
unique_name_in_owner = true
position = Vector2(474, 291)

[node name="UILayer" type="Node2D" parent="." groups=["ui_layer"]]

[node name="ForeGroundRight" type="Sprite2D" parent="."]
position = Vector2(576, 265)
texture = ExtResource("6_k8b4e")

[node name="ForeGroundLeft" type="Sprite2D" parent="."]
position = Vector2(64, 288)
texture = ExtResource("6_2bu30")
